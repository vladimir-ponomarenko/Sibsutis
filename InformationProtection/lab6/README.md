# Лабораторная работа №6: Шифр RSA

## Описание
Реализация криптографического алгоритма RSA для шифрования и расшифровки файлов. RSA - это асимметричный алгоритм шифрования, основанный на сложности факторизации больших чисел.

## Теоретические основы

### Алгоритм RSA
RSA (Rivest-Shamir-Adleman) - один из первых асимметричных криптографических алгоритмов, широко используемый для шифрования и цифровых подписей.

### Генерация ключей
1. Выбираются два различных простых числа p и q
2. Вычисляется n = p × q (модуль)
3. Вычисляется φ(n) = (p-1) × (q-1) (функция Эйлера)
4. Выбирается e такое, что 1 < e < φ(n) и НОД(e, φ(n)) = 1
5. Вычисляется d такое, что e × d ≡ 1 (mod φ(n))

### Ключи
- Открытый ключ: (n, e)
- Закрытый ключ: (n, d)

### Процесс шифрования
Для каждого байта M:
C = M^e mod n

### Процесс расшифрования
Для каждого зашифрованного байта C:
M = C^d mod n

## Использование

### Шифрование
```bash
python main.py input.txt encrypted.txt --action encrypt --mode generate --bits 64
```

### Расшифрование
```bash
python main.py encrypted.txt decrypted.txt --action decrypt --mode generate --bits 64
```

### Ввод параметров вручную
```bash
python main.py input.txt output.txt --action encrypt --mode input
```

### Параметры командной строки
- `input_file` - входной файл
- `output_file` - выходной файл
- `--action` - действие (encrypt/decrypt)
- `--mode` - режим работы (input/generate)
- `--bits` - размер простых чисел в битах (по умолчанию 32)

## Особенности реализации
- Поддержка файлов любого размера
- Использование теста Миллера-Рабина для проверки простоты
- Стандартная экспонента e = 65537
- Обработка больших чисел (Python int неограничен)
- Каждый байт шифруется независимо

## Безопасность
- Основан на сложности факторизации больших чисел
- Требует больших простых чисел (минимум 1024 бита для практического использования)
- Закрытый ключ должен храниться в секрете
- Устойчив к атакам на основе известного открытого текста

## Ограничения
- Размер шифротекста в 2 раза больше размера исходного текста
- Медленнее симметричных алгоритмов
- Производительность зависит от размера модуля n
- Не подходит для шифрования больших объемов данных

## Математические основы
- Теорема Эйлера: a^φ(n) ≡ 1 (mod n) для НОД(a, n) = 1
- Китайская теорема об остатках для ускорения вычислений
- Расширенный алгоритм Евклида для нахождения обратного элемента
