lambda = 10; % Интенсивность входного потока (h)
mu = 5;      % Интенсивность обслуживания (u)
n = 2;       % Количество каналов (n)
m = 10;      % Максимальная длина очереди (m)

% Вычисление коэффициента загрузки
rho = lambda / (n * mu);

% Вычисление вероятности пустой системы (p0)
p0_numerator = 1;
for i = 1:n
    p0_numerator = p0_numerator + (rho^i / factorial(i));
end
p0_denominator = p0_numerator + (rho^n / factorial(n)) * ((1 - (rho/n)^(m+1)) / (1 - (rho/n)));
p0 = 1 / p0_denominator;

% Вычисление вероятности отказа
P_otk = (rho^n / factorial(n)) * ((rho/n)^m) * p0;

% Вычисление показателей эффективности
Q = 1 - P_otk;                   % Относительная пропускная способность
A = lambda * Q;                 % Абсолютная пропускная способность
k_zan = A / mu;                 % Среднее количество занятых каналов
L_och = (rho^(n+1) / (factorial(n) * (1 - rho/n)^2)) * ((1 + (m-1)*(rho/n)^m - m*(rho/n)^(m+1))) * p0; % Средняя длина очереди
T_och = L_och / lambda;           % Среднее время ожидания в очереди
L_sist = L_och + k_zan;          % Среднее количество заявок в системе
T_sist = L_sist / lambda;         % Среднее время пребывания заявки в системе

characteristics = {'Интенсивность входного потока (λ)'; ...
                    'Интенсивность обслуживания (μ)'; ...
                    'Количество каналов (n)'; ...
                    'Максимальная длина очереди (m)'; ...
                    'Коэффициент загрузки (ρ)'; ...
                    'Вероятность отказа (P_otk)'; ...
                    'Относительная пропускная способность (Q)'; ...
                    'Абсолютная пропускная способность (A)'; ...
                    'Среднее количество занятых каналов (k_zan)'; ...
                    'Средняя длина очереди (L_och)'; ...
                    'Среднее время ожидания в очереди (T_och)'; ...
                    'Среднее количество заявок в системе (L_sist)'; ...
                    'Среднее время пребывания заявки в системе (T_sist)'};
values = [lambda; mu; n; m; rho; P_otk; Q; A; k_zan; L_och; T_och; L_sist; T_sist];
table_data = table(characteristics, values);

disp(table_data)

if rho < 1
    disp('Система является эффективной, так как коэффициент загрузки ρ < 1.')
else
    disp('Система является неэффективной, так как коэффициент загрузки ρ >= 1.')
end
